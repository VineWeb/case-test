<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>闭包</title>
</head>
<body>
  <script>
    function fn1 () {
      var a = 1
      function fn2 () {
        // console.log(a)
      }
      fn2()
    }
    fn1()
  </script>
  <script>
    function fn1 () {
      var a = 1
      function fn2 () {
        a++
        // console.log(a)
      }
      return fn2
    }
    var f = fn1()
    f()
    f()
    f = null
  </script>

  <script>
    function fun(n, o) {
      console.log(o)
      return {
        fun: function(m) {
          return fun(m, n)
        }
      }
    }
    var a = fun(0); a.fun(1); a.fun(2); a.fun(3) // undefined 0 0 0
    var b = fun(0).fun(1).fun(2).fun(3)  // undefined 0 1 2
    var c = fun(0).fun(1); c.fun(2); c.fun(3) //undefined 0 1 1
  </script>
</body>
</html>